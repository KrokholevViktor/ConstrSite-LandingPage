!function(){"use strict";var e=function(e,t,n,o,l){const i=document.querySelectorAll(n),r=document.querySelector(e),s=document.querySelector(t),c=document.querySelector(o),a=document.querySelector(l);let d=window.getComputedStyle(c).width;window.addEventListener("resize",(()=>{d=window.getComputedStyle(c).width,u>1&&(m=+d.slice(0,d.length-2)*(u-1)+10*(u-1),a.style.transform=`translateX(-${m}px) `)}));let u=1,m=0;function y(){a.style.width=`calc((100 * ${i.length}%) + (10 * ${i.length-1}px))`,i.forEach((e=>{e.style.width=d}))}function h(){r.disabled=1==u}function f(){u==i.length?s.disabled=!0:s.disabled=!1}f(),h(),y(),window.addEventListener("resize",(()=>{y()})),s.addEventListener("click",(()=>{m==+d.slice(0,d.length-2)*(i.length-1)?m=0:m+=+d.slice(0,d.length-2)+10,a.style.transform=`translateX(-${m}px`,u==i.length?u=1:u++,f(),h()})),r.addEventListener("click",(()=>{0==m?m=+d.slice(0,d.length-2)*(i.length-1):m-=+d.slice(0,d.length-2)+10,a.style.transform=`translateX(-${m}px)`,1==u?u=i.length:u--,f(),h()}));let g=!1,v=0,p=0;function _(){g=!1,a.style.cursor="grab",a.style.transition="0.5s all",p<-100&&u!=i.length?s.click():p>100&&1!=u?r.click():a.style.transform=`translateX(-${m}px) `}function b(){a.style.transform=`translateX(${-m+p}px)`}a.addEventListener("mousedown",(function(e){g=!0,v=e.clientX,a.style.cursor="grabbing",a.style.transition="0s all"})),a.addEventListener("touchstart",(function(e){g=!0,v=e.touches[0].clientX,a.style.transition="0s all"})),a.addEventListener("mousemove",(function(e){if(g){let t=e.clientX;p=t-v,b()}})),a.addEventListener("touchmove",(function(e){if(g){let t=e.touches[0].clientX;p=t-v,b()}})),a.addEventListener("mouseup",_),a.addEventListener("touchend",_),a.addEventListener("mouseleave",(()=>{g=!1,a.style.cursor="grab"}))},t=e=>{function t(e){let t="+7 (___) ___ __ __",n=0,o=t.replace(/\D/g,""),l=this.value.replace(/\D/g,"");o.length>=l.length&&(l=o),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&n<l.length?l.charAt(n++):n>=l.length?"":e})),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}})(this.value.length,this)}document.querySelectorAll(e).forEach((e=>{e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)}))};document.addEventListener("DOMContentLoaded",(function(){!function(){const e=document.querySelectorAll("img[data-src]"),t=document.documentElement.clientHeight;let n=[];function o(){let o=n.findIndex((e=>scrollY+1e3>e-t));o>=0&&(e[o].dataset.src&&(e[o].src=e[o].dataset.src,e[o].removeAttribute("data-src")),delete n[o])}e.length>0&&e.forEach((e=>{e.dataset.src&&(n.push(e.getBoundingClientRect().top+scrollY),o())})),window.addEventListener("scroll",(function(){document.querySelectorAll("img[data-src]").length>0&&o()}))}();let n={};!function(e){const t=document.querySelectorAll("form"),n=document.querySelectorAll("input"),o=document.querySelectorAll('input[name="phone"]'),l=document.querySelectorAll('[name="file"]');function i(e,t,n){let o=!0,l=!1;const i=document.querySelectorAll(".tooltip");function r(e){const t=e.parentNode;t.classList.contains("form-main__item-error")&&(t.querySelector(".error-div").remove(),t.classList.remove("form-main__item-error"),e.classList.remove("error-focus-border"),i.forEach((e=>{t.classList.contains("form-main__item-error")&&t.querySelector(".tooltip")&&e.classList.remove("tooltip-error")})))}function s(e,t){const n=e.parentNode,o=document.createElement("div");o.classList.add("error-div"),o.textContent=t,n.append(o),n.classList.add("form-main__item-error"),e.classList.add("error-focus-border"),i.forEach((e=>{n.classList.contains("form-main__item-error")&&n.querySelector(".tooltip")&&e.classList.add("tooltip-error")}))}function c(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}if(t){const i=e.querySelectorAll(".input--required");for(const e of i)r(t),c(e.value)&&(l=!0);""==(a=t).value&&"phone"===a.getAttribute("name")||""==a.value&&"email"===a.getAttribute("name")?(s(a,"The field is not filled"),o=!1):a.value.length<18&&"phone"===a.getAttribute("name")?(s(a,"Enter the full number"),o=!1):0==l&&"email"===a.getAttribute("name")?(s(a,"Incorrect E-Mail Address."),o=!1):a.checked||"checkbox"!==a.getAttribute("name")||"submit"!=n.type||(s(a,"Confirm your consent"),o=!1)}else{const t=e.querySelectorAll(".input--required");for(const e of t)r(e),c(e.value)&&(l=!0),""==e.value&&"phone"===e.getAttribute("name")||""==e.value&&"email"===e.getAttribute("name")?(s(e,"The field is not filled"),o=!1):e.value.length<18&&"phone"===e.getAttribute("name")?(s(e,"Enter the full number"),o=!1):0==l&&"email"===e.getAttribute("name")?(s(e,"Incorrect E-Mail Address."),o=!1):e.checked||"checkbox"!==e.getAttribute("name")||"submit"!=n.type||(s(e,"Confirm your consent"),o=!1)}var a;return o}t.forEach((t=>{t.querySelectorAll(".input--required").forEach((e=>{e.addEventListener("change",(n=>{i(t,e,n),e.addEventListener("input",(n=>{i(t,e,n)}))}))})),t.addEventListener("submit",(o=>{if(o.preventDefault(),i(t,!1,o)){let o=document.createElement("div");o.classList.add("status"),t.appendChild(o);const i=new FormData(t);if("end"===t.getAttribute("data-calc"))for(let t in e)i.append(t,e[t]);(async(e,t)=>{document.querySelector(".status").textContent="loading...";let n=await fetch("functionsToMail.php",{method:"POST",body:t});return await n.text()})(0,i).then((e=>{o.textContent="Application sent successfully!"})).catch((()=>{o.textContent="Something went wrong..."})).finally((()=>{n.forEach((e=>{e.value=""})),l.forEach((e=>{e.previousElementSibling.textContent="Attach file"})),setTimeout((()=>{o.remove()}),5e3)})),document.querySelectorAll('input[name="checkbox"]').forEach((e=>{e.checked=!1}))}}))})),o.forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/\D/,"")}))})),l.forEach((e=>{e.addEventListener("input",(()=>{let t;const n=e.files[0].name.split(".");t=n[0].length>15?"...":".";const o=n[0].substring(0,15)+t+n[1];e.previousElementSibling.textContent=o}))}))}(n);try{(function(e,t,n,o,l){const i=document.querySelectorAll(n),r=document.querySelector(e),s=document.querySelector(t),c=document.querySelector(".form-slider__navigation_next"),a=document.querySelector("#total"),d=document.querySelector("#current"),u=document.querySelector(".form-slider__counter"),m=document.querySelector(o),y=document.querySelector(l),h=document.querySelectorAll(".form-slider__title"),f=document.querySelector(".form-slider__navigation_btn-form");let g=window.getComputedStyle(m).width;window.addEventListener("resize",(()=>{g=window.getComputedStyle(m).width}));let v=1,p=0,_=0;function b(){y.style.width=`calc(100 * ${i.length}%)`,i.forEach((e=>{e.style.width=g}))}function E(){h.forEach((e=>e.style.display="none")),h[v-1].style.display=""}function w(){r.style.visibility=v-1==0?"hidden":""}function L(){v==i.length?(u.style.visibility="hidden",c.style.display="none",f.style.display=""):(u.style.visibility="",c.style.display="",f.style.display="none")}function S(e){let t=i[e].querySelectorAll(".form-slider__img"),n=i[e].querySelectorAll(".form-slider__item__card-form_select");function o(t){for(e=0;e<t.length;e++)try{if(t[e].children[1].classList.contains("img-selected"))return void(s.disabled=!1)}catch(n){if(t[e].classList.contains("ask-selected"))return void(s.disabled=!1);s.disabled=!0}}o(t),o(n)}i.length<10?(a.textContent="0"+(i.length-1),d.textContent=`0${v}`):(a.textContent=i.length-1,d.textContent=v),b(),window.addEventListener("resize",(()=>{b(),p=+g.slice(0,g.length-2)*(v-1),y.style.transition="0s all",y.style.transform=`translateX(-${p}px)`})),L(),E(),w(),setTimeout((()=>{s.click(),r.click()}),10),s.addEventListener("click",(()=>{y.style.transition="0.5s all",p==+g.slice(0,g.length-2)*(i.length-1)?p=0:p+=+g.slice(0,g.length-2),y.style.transform=`translateX(-${p}px)`,v==i.length?v=1:v++,i.length<10?d.textContent=`0${v}`:d.textContent=v,s.disabled=!0,L(),E(),w(),_++,S(_)})),r.addEventListener("click",(()=>{0==p?p=+g.slice(0,g.length-2)*(i.length-1):p-=+g.slice(0,g.length-2),y.style.transform=`translateX(-${p}px)`,1==v?v=i.length:v--,i.length<10?d.textContent=`0${v}`:d.textContent=v,L(),E(),w(),_--,S(_)})),i.forEach((e=>{const t=e.querySelectorAll(".form-slider__img"),n=e.querySelectorAll(".form-slider__item__card-form_select");t.forEach((e=>{e.addEventListener("click",(()=>{t.forEach((e=>{e.children[1].classList.remove("img-selected"),e.style.cssText="background-color: #FFFFFF;"})),e.children[1].classList.add("img-selected"),s.disabled=!1,e.children[1].classList.contains("img-selected")&&(e.style.cssText="background-color: #D22043;",t.forEach((e=>{e.children[1].previousElementSibling.style.cssText="border-bottom: 1px solid $black-color;"})),e.children[1].previousElementSibling.style.cssText="background-color: transparent; border-bottom: none; color: white; ")}))})),n.forEach((e=>{e.style.cssText="background-color: #FFFFFF;",e.addEventListener("click",(()=>{s.disabled=!1,n.forEach((e=>{e.classList.remove("ask-selected"),e.style.cssText="background-color: #FFFFFF;"})),e.classList.add("ask-selected"),e.style.cssText="background-color: #D22043;"}))}));const o=document.querySelector(".form-slider__counter_divider");(window.innerWidth<576||window.screen.availWidth<576)&&(o.textContent="",t.forEach((e=>{e.children[1].style.display="none"}))),window.addEventListener("resize",(()=>{window.innerWidth<576||window.screen.availWidth<576?(o.textContent="",t.forEach((e=>{e.children[1].style.display="none"}))):(o.textContent="/",t.forEach((e=>{e.children[1].style.display=""})))}))}))})(".form-slider__navigation_prev .button_black",".form-slider__navigation_next .button_black",".form-slider__item",".form-slider__wrapper",".form-slider__inner"),function(e){const t=document.querySelectorAll(".item-1 .form-slider__item__card"),n=document.querySelectorAll(".item-2 .form-slider__item__card"),o=document.querySelectorAll(".item-3 .form-slider__item__card"),l=document.querySelectorAll(".item-4 .form-slider__item__card"),i=document.querySelectorAll(".item-5 .form-slider__item__card-form_select");function r(t,n){t.forEach((t=>{t.addEventListener("click",(()=>{null===t.firstElementChild?e[n]=t.textContent.replace(/\s+/g," "):e[n]=t.firstElementChild.textContent.replace(/\s+/g," ")}))}))}r(t,"buldingType"),r(n,"floorsNumber"),r(o,"material"),r(l,"soiltype"),r(i,"planSelect")}(n)}catch(o){console.log(o)}try{!function(e,t,n,o,l){const i=document.querySelectorAll(n),r=document.querySelector(e),s=document.querySelector(t),c=document.querySelector(l);c.style.width=100*i.length+"%";let a=window.getComputedStyle(document.querySelectorAll(n)[0]).width,d=1,u=0;function m(){r.disabled=1==d}function y(){d==i.length?s.disabled=!0:s.disabled=!1}window.addEventListener("resize",(()=>{a=window.getComputedStyle(document.querySelectorAll(n)[0]).width,d>1&&(u=+a.slice(0,a.length-2)*(d-1)+20*(d-1),c.style.transform=`translateX(-${u}px) `,console.log(u))})),y(),m(),s.addEventListener("click",(()=>{u==+a.slice(0,a.length-2)*(i.length-1)?u=0:u+=+a.slice(0,a.length-2)+20,c.style.transform=`translateX(-${u}px)`,d==i.length?d=1:d++,y(),m()})),r.addEventListener("click",(()=>{0==u?u=+a.slice(0,a.length-2)*(i.length-1):u-=+a.slice(0,a.length-2)+20,c.style.transform=`translateX(-${u}px)`,1==d?d=i.length:d--,y(),m()}));let h=!1,f=0,g=0;function v(){h=!1,c.style.cursor="grab",c.style.transition="0.5s all",g<-100&&d!=i.length?s.click():g>100&&1!=d?r.click():c.style.transform=`translateX(-${u}px) `}function p(){c.style.transform=`translateX(${-u+g}px)`}c.addEventListener("mousedown",(function(e){h=!0,f=e.clientX,c.style.cursor="grabbing",c.style.transition="0s all"})),c.addEventListener("touchstart",(function(e){h=!0,f=e.touches[0].clientX,c.style.transition="0s all"})),c.addEventListener("mousemove",(function(e){if(h){let t=e.clientX;g=t-f,p()}})),c.addEventListener("touchmove",(function(e){if(h){let t=e.touches[0].clientX;g=t-f,p()}})),c.addEventListener("mouseup",v),c.addEventListener("touchend",v),c.addEventListener("mouseleave",(()=>{h=!1,c.style.cursor="grab"}))}(".reviews__navigation .navigation_prev .button_black",".reviews__navigation .navigation_next .button_black",".reviews__slide",0,".reviews__inner")}catch(l){console.log(l)}try{!function(e,t,n,o,l){const i=document.querySelectorAll(n),r=document.querySelector(e),s=document.querySelector(t),c=document.querySelector(o),a=document.querySelector(l);let d=window.getComputedStyle(c).width;window.addEventListener("resize",(()=>{d=window.getComputedStyle(c).width,u>1&&(m=+d.slice(0,d.length-2)*(u-1)+130*(u-1),a.style.transform=`translateX(-${m}px) `)}));let u=1,m=0;function y(){a.style.width=`calc((100 * ${i.length}%) + (130 * ${i.length-1}px))`,i.forEach((e=>{e.style.width=d}))}function h(){r.disabled=1==u}function f(){u==i.length?s.disabled=!0:s.disabled=!1}y(),window.addEventListener("resize",(()=>{y()})),f(),h(),s.addEventListener("click",(()=>{m==+d.slice(0,d.length-2)*(i.length-1)?m=0:m+=+d.slice(0,d.length-2)+130,a.style.transform=`translateX(-${m}px)`,u==i.length?u=1:u++,i.length<10?current.textContent=`0${u}`:current.textContent=u,f(),h()})),r.addEventListener("click",(()=>{0==m?m=+d.slice(0,d.length-2)*(i.length-1):m-=+d.slice(0,d.length-2)+130,a.style.transform=`translateX(-${m}px)`,1==u?u=i.length:u--,i.length<10?current.textContent=`0${u}`:current.textContent=u,f(),h()}));let g=!1,v=0,p=0;function _(){g=!1,a.style.cursor="grab",a.style.transition="0.5s all",p<-100&&u!=i.length?s.click():p>100&&1!=u?r.click():a.style.transform=`translateX(-${m}px) `}function b(){a.style.transform=`translateX(${-m+p}px)`}a.addEventListener("mousedown",(function(e){g=!0,v=e.clientX,a.style.cursor="grabbing",a.style.transition="0s all"})),a.addEventListener("touchstart",(function(e){g=!0,v=e.touches[0].clientX,a.style.transition="0s all"})),a.addEventListener("mousemove",(function(e){if(g){let t=e.clientX;p=t-v,b()}})),a.addEventListener("touchmove",(function(e){if(g){let t=e.touches[0].clientX;p=t-v,b()}})),a.addEventListener("mouseup",_),a.addEventListener("touchend",_),a.addEventListener("mouseleave",(()=>{g=!1,a.style.cursor="grab"}))}(".advantages__navigation .navigation_prev .button_black",".advantages__navigation .navigation_next .button_black",".advantages__slide",".advantages__slider",".advantages__inner")}catch(i){console.log(i)}try{e(".examples__navigation .navigation_prev .button_black",".examples__navigation .navigation_next .button_black",".examples__slide",".examples__wrapper",".examples__inner")}catch(r){console.log(r)}try{function s(t,n){console.log("Количество examples_slide изменилось!"),console.log("Новое количество элементов:",t[0].target.children.length),e(".examples__navigation .navigation_prev .button_black",".examples__navigation .navigation_next .button_black",".examples__slide",".examples__wrapper",".examples__inner")}const c=document.querySelector(".examples__inner"),a=new MutationObserver(s),d={childList:!0};a.observe(c,d)}catch(u){console.log("ошибка MutationObserver"),console.log(u)}try{!function(e,t){const n=document.querySelectorAll(e);document.querySelectorAll(t),n.forEach((e=>{e.addEventListener("click",(function(){this.classList.contains("questions__accordion__item_active")?this.classList.remove("questions__accordion__item_active"):this.classList.add("questions__accordion__item_active")}))}))}(".questions__accordion__item",".questions__accordion__descr")}catch(m){console.log(m)}try{!function(e,t,n){const o=document.querySelectorAll(".modal-btn"),l=document.querySelector(".modal"),i=document.querySelector(".modal__close");o.forEach((e=>{e.addEventListener("click",(e=>{e.target&&e.preventDefault();const t=function(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n}();l.style.display="block",document.body.style.overflow="hidden",document.body.style.paddingRight=`${t}px`,i.addEventListener("click",(()=>{l.style.display="none",document.body.style.overflow="",document.body.style.paddingRight="0px"})),l.addEventListener("click",(e=>{e.target===l&&(l.style.display="none",document.body.style.overflow="")}))}))}))}()}catch(y){console.log(y)}try{t('[name="phone"]')}catch(h){console.log(h)}try{((e,t,n,o)=>{const l=document.querySelector(e),i=document.querySelector(t),r=document.querySelector(".header__info_e_p .header__info_phone "),s=document.querySelectorAll(n),c=document.querySelector(o),a=function(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n}();l.style.display="none",s.forEach((e=>{e.addEventListener("click",(()=>{i.click()}))})),c.addEventListener("click",(()=>{i.click(),document.body.style.overflow="hidden",/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)||(document.body.style.paddingRight=`${a}px`)})),i.addEventListener("click",(()=>{i.classList.toggle("active"),i.classList.contains("active")?(r.style.visibility="hidden",document.body.style.overflow="hidden",/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)||(document.body.style.paddingRight=`${a}px`)):(r.style.visibility="visible",document.body.style.overflow="",document.body.style.paddingRight="0px"),"none"==l.style.display&&window.innerWidth<993?(l.style.display="",l.classList.add("fadeIn"),l.classList.remove("fadeOut")):(l.classList.add("fadeOut"),l.classList.remove("fadeIn"),setTimeout((()=>{l.style.display="none"}),300))})),window.addEventListener("orientationchange",(()=>{setTimeout((()=>{console.log(window.innerWidth),i.classList.contains("active")&&window.innerWidth>993&&(r.style.visibility="visible",document.body.style.overflow="",document.body.style.paddingRight="0px",i.classList.toggle("active"))}),10)}));let d=!1;window.addEventListener("orientationchange",(()=>{d=!0})),window.addEventListener("resize",(()=>{window.screen.availWidth>992&&(l.style.display="none"),l.classList.contains("fadeIn")&&d?d=!1:l.classList.contains("fadeIn")&&i.click()}))})(".header__menu_burger",".burger",".header__menu_burger .header_link",".header__menu_burger--scroll .modal-btn")}catch(f){console.log(f)}try{(()=>{const e=document.querySelector("body"),t=document.querySelector(".header"),n=document.querySelectorAll(".header .modal-btn"),o=document.querySelectorAll(".header__menu .header_link");let l,i=window.pageYOffset||document.documentElement.scrollTop,r=!1,s=0,c=!1,a=!1;window.addEventListener("scroll",(function(){a=!0,clearTimeout(l),l=setTimeout((function(){a=!1,c=!1}),200)})),o.forEach((e=>{e.addEventListener("click",(()=>{c=!0}))})),window.addEventListener("scroll",(function(){const o=window.pageYOffset||document.documentElement.scrollTop;o>i?r&&(r=!1):r||(t.classList.add("fixed"),e.style.marginTop=`${t.offsetHeight}px`,r=!0),r?s=0:s++,c||s>=25&&(t.classList.remove("fixed"),e.style.marginTop="0px",r=!1,s=0,n.forEach((n=>{n.addEventListener("click",(()=>{r&&(t.classList.remove("fixed"),e.style.marginTop="0px",r=!1,s=0)}))}))),i=o}))})()}catch(g){console.log(g)}window.addEventListener("scroll",(function e(){if(scrollY>7e3){var t=document.createElement("script");t.src="https://api-maps.yandex.ru/2.1/?apikey=1997deae-7f1f-4cdb-bbee-84f7aafcaf39&lang=ru_RU",t.async=!0,t.onload=function(){!function(){let e="Karl-Ludwig-Busse-Straße 2/4 14707 Detmold",t="https://geocode-maps.yandex.ru/1.x/?apikey=1997deae-7f1f-4cdb-bbee-84f7aafcaf39&format=json&geocode="+encodeURIComponent(e),n=52.288503,o=104.289536;const l=new XMLHttpRequest;l.open("GET",t,!0),l.onload=function(){if(200===l.status){let t=JSON.parse(l.responseText).response.GeoObjectCollection.featureMember[0].GeoObject.Point.pos.split(" ");n=t[1],o=t[0];let i=[n,o];function r(){let t=new ymaps.Map("map",{center:i,zoom:14}),n=new ymaps.Placemark(i,{balloonContentHeader:e,balloonContentBody:"construction@company.com"},{});t.controls.remove("geolocationControl"),t.controls.remove("searchControl"),t.controls.remove("trafficControl"),t.controls.remove("typeSelector"),t.controls.remove("fullscreenControl"),t.controls.remove("rulerControl"),t.behaviors.disable(["scrollZoom"]),t.geoObjects.add(n)}ymaps.ready(r)}else console.log("Ошибка при выполнении запроса на геокодирование.")},l.send()}()};var n=document.querySelector("script[src*='script.js']");n?n.parentNode.insertBefore(t,n):document.body.appendChild(t),window.removeEventListener("scroll",e)}}))}))}();